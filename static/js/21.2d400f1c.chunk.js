(this["webpackJsonpgoose-frontend"]=this["webpackJsonpgoose-frontend"]||[]).push([[21],{964:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(58),c=n(0),i=n(4),s=n(48),o=n(65),u=n(668),l=n(174),d=n(27),p=n(2),b=n.n(p),f=n(13),j=n(15),m=n(24),x=n(59),O=n(961),v=n(674),h=n(675),g=n(37),y=n(49),k=n(687),I=n(683),w=n(31),N=[{name:"Main Pass NFT",metadata:"",description:"All inclusive Main Event Venue DJ Concert. Open Bar. Lottery draw for the afterparty exclusive. Transportation to and from all events from approved hotels.",originalImage:"https://gateway.pinata.cloud/ipfs/QmXdHqg3nywpNJWDevJQPtkz93vpfoHcZWQovFz2nmtPf5/swapsies.png",previewImage:"preview1.png",blurImage:"swapsies-blur.png",sortOrder:999,fileType:"mp4",nftId:0,tokenAmount:5,tokenSupply:30,nftFarmContract:"0x3627Ca89675b42489aD39619A92dd0Ce24CA90bB",nftContract:"0xa521D5FA64D0aAdB4ee607BAb20142aA173e4392",active:!1},{name:"Yacht Pass NFT",metadata:"",description:"All inclusive Yacht Party. Fully Catered. Open Bar. Private DJ. Full day Punta Cana booze cruise sightseeing tour. Main Event NFT\u2019s included! (25 STOS Value). Transportation to and from all events",originalImage:"https://gateway.pinata.cloud/ipfs/QmXdHqg3nywpNJWDevJQPtkz93vpfoHcZWQovFz2nmtPf5/drizzle.png",previewImage:"preview2.png",blurImage:"drizzle-blur.png",sortOrder:999,fileType:"mp4",nftId:1,tokenAmount:10,tokenSupply:20,nftFarmContract:"0x3627Ca89675b42489aD39619A92dd0Ce24CA90bB",nftContract:"0xa521D5FA64D0aAdB4ee607BAb20142aA173e4392",active:!0},{name:"VIP WEEK Pass NFT",metadata:"",description:"5 Bed Villa from a list of oceanfront choices. Personal chef with daily menus. Transportation to and from the events. Yacht Party Admission. Main Event Admission + Afterparty. Party of 8 covered for Villa and all admissions. 4 days, 3 nights (extensions extra)",originalImage:"https://gateway.pinata.cloud/ipfs/QmXdHqg3nywpNJWDevJQPtkz93vpfoHcZWQovFz2nmtPf5/blueberries.png",previewImage:"preview3.png",blurImage:"blueberries-blur.png",sortOrder:999,fileType:"mp4",nftId:3,tokenAmount:15,tokenSupply:10,nftFarmContract:"0x3627Ca89675b42489aD39619A92dd0Ce24CA90bB",nftContract:"0xa521D5FA64D0aAdB4ee607BAb20142aA173e4392",active:!1}],A=n(39),C=n(75),T=n(690),D=function(e){var t=T;return Object(C.a)(t,h.b,e)},F=function(e){if(!e)return[];for(var t=[],n=e.length,r=0;r<n;r++)e[r]?t.push(Object(A.fromWei)(e[r].toString(),"ether")):t.push(0);return t},B=function(e){if(!e)return[];var t=[];if(!e)return[];for(var n=e.length,r=0;r<n;r++)e[r]?t.push(parseInt(e[r].toString())):t.push(0);return t},S=function(e){var t=[];if(!e)return[];for(var n=e.length,r=0;r<n;r++)e[r]?t.push(parseFloat(e[r].toString())):t.push(0);return t},P=(n(12),function(e){var t=e.split("/");return{protocol:t[0],host:t[2],path:t.slice(3).join("/"),fullUrlArray:t}}),M=function(){var e=Object(j.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"",description:"",image:"",rarity:"",error:""},e.prev=1,e.next=4,fetch(t);case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),z=Object(c.createContext)(null),W=function(e){var t=e.children,n=Object(c.useRef)(!0),a=Object(c.useState)({isInitialized:!1,hasClaimed:[],ownerById:[],countBurnt:0,startBlockNumber:0,endBlockNumber:0,totalSupplyDistributed:0,currentDistributedSupply:0,balanceOf:0,nftMap:{},allowMultipleClaims:!0,priceMultiplier:0,maxMintPerNft:0,amounts:[],maxMintByNft:[],prices:[],myMints:[],nftTableData:[]}),i=Object(m.a)(a,2),s=i[0],u=i[1],l=Object(o.m)().account,d=Object(k.a)(),p=s.isInitialized;Object(c.useEffect)((function(){(function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,r,a,c,i,s,o,l,d,p,j,x,O,v,g,y,k,N,A;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.a)(I,[{address:h.c,name:"startBlockNumber"},{address:h.c,name:"endBlockNumber"},{address:h.c,name:"countBurnt"},{address:h.c,name:"totalSupplyDistributed"},{address:h.c,name:"currentDistributedSupply"},{address:h.c,name:"allowMultipleClaims"},{address:h.c,name:"priceMultiplier"},{address:h.c,name:"maxMintPerNft"}]);case 3:t=e.sent,n=Object(m.a)(t,8),r=n[0],a=n[1],c=n[2],i=n[3],s=n[4],o=n[5],l=n[6],d=n[7],p=Object(m.a)(r,1),j=p[0],x=Object(m.a)(a,1),O=x[0],v=Object(m.a)(c,1),g=v[0],y=Object(m.a)(i,1),k=y[0],N=Object(m.a)(s,1),A=N[0],u((function(e){return Object(f.a)(Object(f.a)({},e),{},{isInitialized:!0,countBurnt:g.toNumber(),startBlockNumber:j.toNumber(),endBlockNumber:O.toNumber(),currentDistributedSupply:A.toNumber(),totalSupplyDistributed:k.toNumber(),allowMultipleClaims:o[0],priceMultiplier:parseFloat(l[0].toString()),maxMintPerNft:parseInt(d[0].toString())})})),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("an error occured",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}})()()}),[p,u]),Object(c.useEffect)((function(){l&&function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,r,a,c,i,s,o,d,p,x,O,v,k,A,C,T;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D(),e.next=4,Object(w.a)(I,[{address:h.c,name:"getMinted",params:[l]}]);case 4:return n=e.sent,r=n[0][0],a=B(n[0][1]),c=n[0][2],i=S(n[0][3]),s=F(n[0][4]),o=S(n[0][5]),e.next=13,t.methods.balanceOf(l).call();case 13:if(d=e.sent,p={},x=[],!(d>0)){e.next=29;break}for(O=function(){var e=Object(j.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.tokenOfOwnerByIndex(l,n).call();case 3:return r=e.sent,e.next=6,t.methods.getNftId(r).call();case 6:return e.sent,e.abrupt("return",[parseInt(r,10)]);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(b.a.mark((function e(n){var r,a,c,i,s,o,u,d,p,f,j,m;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.tokenOfOwnerByIndex(l,n).call();case 3:return r=e.sent,e.next=6,t.methods.tokenURI(parseInt(r,10)).call();case 6:return a=e.sent,e.next=9,t.methods.getApproved(parseInt(r,10)).call();case 9:return c=e.sent,i=!1,"0x0000000000000000000000000000000000000000"!==c&&(i=!0),e.next=14,M(a);case 14:return s=e.sent,o=s.name,s.rarity,u=P(a),d=u.fullUrlArray,p=d[3],f=parseInt(d[4].substring(0,d[4].length-5),10),j="/detail/".concat(f),m=N.filter((function(e){return o===e.name})).map((function(e){return e.previewImage})),e.abrupt("return",{tokenId:parseInt(r,10),type:"".concat(p," ,  ").concat(f),nftName:o,nftPreviewImage:m,nftDetailLink:j,isApproved:i});case 25:return e.prev=25,e.t0=e.catch(0),e.abrupt("return",null);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t){return e.apply(this,arguments)}}(),k=[],A=[],C=0;C<d;C++)A.push(v(C)),k.push(O(C));return e.next=24,Promise.all(k);case 24:return T=e.sent,e.next=27,Promise.all(A);case 27:x=e.sent,p=T.reduce((function(e,t){if(!t)return e;var n=Object(m.a)(t,2),r=n[0],a=n[1];return Object(f.a)(Object(f.a)({},e),{},Object(g.a)({},r,e[r]?[].concat(Object(y.a)(e[r]),[a]):[a]))}),{});case 29:u((function(e){return Object(f.a)(Object(f.a)({},e),{},{isInitialized:!0,hasClaimed:r,ownerById:c,balanceOf:d,nftMap:p,amounts:a,maxMintByNft:i,prices:s,myMints:o,nftTableData:x})})),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(0),console.error("an error occured",e.t0);case 35:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(){return e.apply(this,arguments)}}()()}),[p,l,u]),Object(c.useEffect)((function(){return function(){n.current=!1}}),[n]);var x=d<=s.endBlockNumber;return Object(r.jsx)(z.Provider,{value:Object(f.a)(Object(f.a)({},s),{},{canBurnNft:x,getTokenIds:function(e){return s.nftMap[e]},reInitialize:function(){n.current&&u((function(e){return Object(f.a)(Object(f.a)({},e),{},{isInitialized:!1})}))}}),children:t})},J=n(130),L=n.n(J);function Q(){var e=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n"]);return Q=function(){return e},e}var E=i.e.div(Q());function H(){var e=Object(a.a)(["\n  color: ",";\n  display: block;\n  margin-bottom: 8px;\n  margin-top: 24px;\n"]);return H=function(){return e},e}function U(){var e=Object(a.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 8px;\n"]);return U=function(){return e},e}function V(){var e=Object(a.a)(["\n  margin-bottom: 16px;\n"]);return V=function(){return e},e}function q(){var e=Object(a.a)(["\n  font-weight: 600;\n"]);return q=function(){return e},e}var R=Object(i.e)(s.A)(q()),X=i.e.div(V()),Y=i.e.div(U()),Z=i.e.label(H(),(function(e){return e.theme.colors.text})),K=function(e){var t=e.nft,n=e.tokenIds,a=e.onSuccess,i=e.onDismiss,l=Object(c.useState)(!1),d=Object(m.a)(l,2),p=d[0],x=d[1],O=Object(c.useState)({address:"",tokenId:n[0]}),y=Object(m.a)(O,2),k=y[0],I=y[1],w=Object(c.useState)(null),N=Object(m.a)(w,2),A=N[0],C=N[1],T=Object(u.a)(),D=Object(o.m)().account,F=Object(v.f)(h.c),B=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,L.a.utils.isAddress(k.address)){e.next=6;break}C(T(999,"Please enter a valid wallet address")),e.next=8;break;case 6:return e.next=8,F.methods.transferNft(k.address,k.tokenId).send({from:D}).on("sending",(function(){x(!0)})).on("receipt",(function(){i(),a()})).on("error",(function(){console.error(A),C("Unable to transfer NFT"),x(!1)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unable to transfer NFT:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(s.u,{title:T(999,"Transfer NFT"),onDismiss:i,children:[Object(r.jsxs)(X,{children:[A&&Object(r.jsx)(s.A,{color:"failure",mb:"8px",children:A}),Object(r.jsxs)(E,{children:[Object(r.jsxs)(s.A,{children:[T(999,"Transferring"),":"]}),Object(r.jsx)(R,{children:'1x "'.concat(t.name,'" NFT')})]}),Object(r.jsxs)(Z,{htmlFor:"transferAddress",children:[T(999,"Receiving address"),":"]}),Object(r.jsx)(s.q,{id:"transferAddress",name:"address",type:"text",placeholder:T(999,"Paste address"),value:k.address,onChange:function(e){var t=e.target,n=t.value,r=t.name;I(Object(f.a)(Object(f.a)({},k),{},Object(g.a)({},r,n)))},isWarning:A,disabled:p})]}),Object(r.jsxs)(Y,{children:[Object(r.jsx)(s.d,{fullWidth:!0,variant:"secondary",onClick:i,children:T(462,"Cancel")}),Object(r.jsx)(s.d,{fullWidth:!0,onClick:B,disabled:!D||p||!k.address||!k.tokenId,children:T(464,"Confirm")})]})]})},G=function(){var e=Object(c.useState)({isLoading:!1,isOpen:!0,nftTableData:[]}),t=Object(m.a)(e,2),n=(t[0],t[1]),a=Object(o.m)().account,i=Object(c.useState)(!1),l=Object(m.a)(i,2),d=l[0],p=l[1],g=Object(c.useState)(!1),y=Object(m.a)(g,2),k=(y[0],y[1]),I=Object(c.useState)(null),w=Object(m.a)(I,2),N=(w[0],w[1]),A=Object(c.useContext)(z),C=A.nftTableData,T=A.reInitialize,D=Object(u.a)(),F=Object(c.useCallback)(Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((function(e){return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0})}));try{n((function(e){return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,isDataFetched:!0,nftTableData:C})}))}catch(t){console.log(t)}case 2:case"end":return e.stop()}}),e)}))),[C]),B=Object(v.g)(h.b),S=Object(c.useCallback)(function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("tokenId",t),e.prev=1,n((function(e){return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0})})),p(!0),console.log("onApprove",t),console.log("nftContract",B,h.c,t),e.next=8,B.methods.approve(h.c,t).send({from:a}).on("sending",(function(){k(!0)})).on("receipt",(function(){console.log("receipt")})).on("error",(function(){N("Unable to transfer NFT"),k(!1)}));case 8:n((function(e){return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,isDataFetched:!0,nftTableData:C})})),T(),p(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),[C,a,B,T]),P=function(){F(),T()},M=[{title:"NFT Name",dataIndex:"nftName",render:function(e,t){return Object(r.jsx)("p",{style:{fontWeight:600,fontSize:"18px"},children:t.nftName})}},{title:"NFT preview Image",dataIndex:"nftPreviewImage",render:function(e,t){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:"images/nfts/".concat(t.nftPreviewImage),alt:"preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"25px"}})})}},{title:"Token ID",dataIndex:"tokenId",key:"tokenId"},{title:"NFT Details",dataIndex:"nftDetailLink",render:function(e,t){return Object(r.jsx)(s.d,{as:x.b,to:t.nftDetailLink,children:"View Detail"})},key:"nftDetailLink"},{title:"Transfer NFT",dataIndex:"",render:function(e,t){var n={name:t.nftName,metadata:"",description:"",originalImage:"",previewImage:"",fileType:"",blurImage:"",sortOrder:1,nftId:0,tokenAmount:0,tokenSupply:0,nftFarmContract:"",nftContract:"",active:!1},a=t.isApproved,c=[t.tokenId],i=Object(s.w)(Object(r.jsx)(K,{nft:n,tokenIds:c,onSuccess:P})),o=Object(m.a)(i,1)[0];return a?Object(r.jsx)(s.d,{fullWidth:!0,variant:"primary",mt:"24px",onClick:function(){o()},children:D(999,"Transfer")}):Object(r.jsx)(s.d,{fullWidth:!0,variant:"primary",mt:"24px",onClick:function(){S(parseInt(t.tokenId,10))},disabled:d,children:"Approve"})},key:""}];return Object(r.jsx)(O.a,{columns:M,dataSource:C,style:{marginTop:"25px"}})},$=function(){var e=Object(u.a)(),t=Object(c.useContext)(z).balanceOf;return Object(r.jsx)(s.g,{children:Object(r.jsx)(s.h,{children:Object(r.jsxs)(E,{children:[Object(r.jsxs)(s.A,{children:[e(999,"My Ticket NFTs"),":"]}),Object(r.jsx)(s.A,{children:Object(r.jsx)("strong",{children:t})})]})})})};function _(){var e=Object(a.a)(["\n  align-items: start;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 32px;\n\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"]);return _=function(){return e},e}i.e.div(_(),(function(e){return e.theme.mediaQueries.sm}));var ee=function(){Object(c.useContext)(z).canBurnNft;return Object(r.jsx)($,{})};function te(){var e=Object(a.a)(["\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(110, 80, 20, 0.4), inset 0 -2px 5px 1px rgba(139, 66, 8, 1),\n    inset 0 -1px 1px 3px rgba(250, 227, 133, 1);\n  background-image: linear-gradient(160deg, #a54e07, #b47e11, #fef1a2, #bc881b, #a54e07);\n  border: 1px solid #a55d07;\n  color: rgb(120, 50, 5);\n  text-shadow: 0 2px 2px rgba(250, 227, 133, 1);\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  background-size: 100% 100%;\n  background-position: center;\n\n  &:focus,\n  &:hover {\n    background-size: 150% 150%;\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23), inset 0 -2px 5px 1px #b17d10,\n      inset 0 -1px 1px 3px rgba(250, 227, 133, 1);\n    border: 1px solid rgba(165, 93, 7, 0.6);\n    color: rgba(120, 50, 5, 0.8);\n  }\n  &:active {\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(110, 80, 20, 0.4), inset 0 -2px 5px 1px #b17d10,\n      inset 0 -1px 1px 3px rgba(250, 227, 133, 1);\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(a.a)(["\n  margin-right: 20px;\n"]);return ne=function(){return e},e}function re(){var e=Object(a.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 64px);\n  justify-content: center;\n"]);return re=function(){return e},e}function ae(){var e=Object(a.a)(["\n  border-bottom: 1px solid ",";\n  margin-bottom: 24px;\n  padding-bottom: 32px;\n"]);return ae=function(){return e},e}var ce=i.e.div(ae(),(function(e){return e.theme.colors.textSubtle})),ie=i.e.div(re()),se=Object(i.e)(s.d)(ne());Object(i.e)(s.d)(te()),t.default=function(){var e=Object(u.a)(),t=Object(o.m)().account;Object(d.f)();return t?Object(r.jsx)(W,{children:Object(r.jsxs)(l.a,{children:[Object(r.jsxs)(ce,{children:[Object(r.jsx)(s.n,{as:"h1",size:"xl",color:"secondary",mb:"24px",children:"My NFT Collections"}),Object(r.jsx)(se,{mt:"24px",children:"Ticket NFTs"})]}),Object(r.jsx)(ee,{}),Object(r.jsx)(G,{})]})}):Object(r.jsx)(l.a,{children:Object(r.jsxs)(ie,{children:[Object(r.jsx)(s.s,{width:"64px",mb:"8px"}),Object(r.jsx)(s.A,{mb:"16px",children:e(999,"Empty Collection")})]})})}}}]);
//# sourceMappingURL=21.2d400f1c.chunk.js.map